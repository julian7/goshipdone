---
setup:
  -
    type: project
    name: magelib
    target: target
builds:
  - type: go
    ldflags: "-s -w -X main.version={{.Version}}"
    main: ./cmd/builder
    name: builder
    output: "builder{{.Ext}}"
    goos:
      - darwin
      - linux
      - windows
    goarch:
      - amd64
archives:
  - type: show
  - type: upx
    builds:
      - builder
  - type: tar
    builds:
      - builder
    compression: gzip
    name: targz
  - type: show
release_notes:
  - type: checksum
    builds:
      - builder
    output: "{{.ProjectName}}-{{.Version}}-files-checksums.txt"
  - type: checksum
    builds:
      - targz
    output: "{{.ProjectName}}-{{.Version}}-checksums.txt"
